<div class="formDetailsTitle">Informations générales</div>

<form [formGroup]="newMainTenantForm" (submit)="tenantFormSubmit()">

    <div *ngIf="editableStatus" class="form-group row form-row">
        <label class="col-sm-4 col-form-label">* Genre</label>
        <div class="col-sm-8">
            <select class="formSelect" id="gender" formControlName="gender">
                <option selected="selected" value="M">M</option>
                <option value="MME">MME</option>
                <option value="AUTRE">AUTRE</option>
            </select>
        </div>
    </div>

    <div *ngIf="!editableStatus" class="form-group row form-row">
        <label class="col-sm-4 col-form-label">* Genre</label>
        <div class="col-sm-8">
            <input
                [readonly]="!editableStatus"
                formControlName="gender"
                type="text"
                class="form-control"/>
        </div>
    </div>

    <div class="form-group row form-row">
        <label class="formMandatoryLabel col-sm-4 col-form-label">* Nom</label>
        <div class="col-sm-8">
            <input
                [readonly]="!editableStatus"
                [ngModel]="lastName"
                (ngModelChange)="$event?lastName = $event.toUpperCase():false"
                formControlName="lastName"
                type="text"
                class="form-control"/>
            <span
                class="formSpan"
                *ngIf="form['lastName'].errors || !form['lastName'].value">
                {{isMandatory}}</span>
        </div>
    </div>
    <div class="form-group row form-row">
        <label class="col-sm-4 col-form-label">Prénom</label>
        <div class="col-sm-8">
            <input
                [readonly]="!editableStatus"
                [ngModel]="firstName"
                (ngModelChange)="$event? firstName = $event.toUpperCase() : false"
                formControlName="firstName"
                type="text"
                class="form-control"/>
        </div>
    </div>

    <div class="form-group row form-row">
        <label class="formMandatoryLabel col-sm-4 col-form-label">* Email</label>
        <div class="col-sm-8">
            <input
                [readonly]="!editableStatus"
                [ngModel]="email"
                (ngModelChange)="$event?email = $event.toUpperCase():false"
                formControlName="email"
                type="email"
                class="form-control"/>
            <span class="formSpan" *ngIf="!form['email'].value">{{isMandatory}}</span>
            <br>
                <span class="formSpan" *ngIf="form['email'].errors">{{isValidEmail}}</span>
            </div>
        </div>

        <div class="form-group row form-row">
            <label class="col-sm-4 col-form-label">Numéro de téléphone</label>
            <div class="col-sm-8">
                <input
                    [readonly]="!editableStatus"
                    [maxlength]="10"
                    formControlName="phoneNumber1"
                    type="text"
                    class="form-control"/>
                <span class="formSpan" *ngIf="form['phoneNumber1'].errors">{{isValidPhone}}</span>
            </div>
        </div>

        <div class="form-group row form-row">
            <label class="col-sm-4 col-form-label">Numéro de sécurité sociale</label>
            <div class="col-sm-8">
                <input
                    [readonly]="!editableStatus"
                    formControlName="social"
                    type="text"
                    class="form-control"
                    [maxlength]="15"/>
                <span class="formSpan" *ngIf="form['social'].errors">{{isValidSocialNumber}}</span>
            </div>
        </div>

        <div class="form-group row form-row">
            <label class="col-sm-4 col-form-label">Date de naissance</label>
            <div class="col-sm-8">
                <input
                    [ngStyle]="{'background-color': (!editableStatus) ? '#e9ecef' : '#ffffff'}"
                    [readonly]="!editableStatus"
                    class="formDate"
                    type="date"
                    formControlName="dob"></div>
            </div>
            <br>
                <div *ngIf="editableStatus" class="form-group row form-row">
                    <label class="col-sm-4 col-form-label">Statut</label>
                    <div class="col-sm-8">
                        <select class="formSelect" formControlName="commonStatus">
                            <option value="ACTIF">Actif</option>
                            <option value="INACTIF">Inactif</option>
                        </select>
                    </div>
                </div>

                <div *ngIf="!editableStatus" class="form-group row form-row">
                    <label class="col-sm-4 col-form-label">Statut</label>
                    <div class="col-sm-8">
                        <input
                            [readonly]="!editableStatus"
                            formControlName="commonStatus"
                            type="text"
                            class="form-control"/>
                    </div>
                </div>
                <br>
                    <div class="row justify-content-center">
                        <button
                            *ngIf="!editableStatus"
                            class="btn btn-dark col-sm-2 form-button"
                            (click)="editableStatus = true">Editer</button>
                        <button
                            class="btn btn-dark col-sm-2 form-button"
                            *ngIf="editableStatus"
                            (click)="editableStatus = false">Annuler</button>
                        <button
                            [disabled]="!formStatusValue"
                            type="submit"
                            class="btn btn-dark col-sm-2 form-validate-button form-button"
                            *ngIf="editableStatus">Valider</button>
                    </div>

                </form>